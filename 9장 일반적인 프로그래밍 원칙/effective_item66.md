# 아이템 66: 네이티브 메서드는 신중히 사용하라.  
네이티브 메서드란 C나 C++ 같은 네이티브 프로그래밍 언어로 작성한 메서드를 말한다.

* 주요 쓰임은 3가지가 있다.  
1. 레지스트리 같은 플랫폼 특화 기능을 사용한다.  
2. 네이티브 코드로 작성된 기존 라이브라러리를 사용한다.  
3. 성능 개선을 목적으로 성능에 결정적인 영향을 주는 영역만 따로 네이브로 언어로 작성한다.  

1-1. 자바가 성숙해지면서 (OS)같은 하부 플랫폼의 기능들을 점차 흡수 하고 있다. 그래서 네이티브 메서드를 사용할 필요가 계속 줄어들고 있다.  
2-1. 대체 할 만한 자바 라이브러리가 없는 네이티브 라이브러리를 사용해야 할 때도 네이티브 메서드를 써야 한다.  
3-1. **성능을 개선할 목적으로 네이티브 메서드를 사용하는 것은 거의 권장하지 않는다.**  
* 자바 초기 시절(자바 3전) JVM은 그동안 엄청난 속도로 발전해왔다.  대부분 작업에서 지금의 자바는 다른 플랫폼에 견줄만한 성능을 보인다.  
    * 예컨대, java.math가 처음 추가된 자바 1.1 시절 BigInteger는 C로 작성한 고성능 라이브러리에 의지했다. 그러다 자바 3때 순수 자바로 구현하면서 원래의 네이티브 구현보다 더 빨라 졌다.  

고성능의 다중 정밀 연산이 필요한 자바 프로그래머라면 이제 네이티브 메서드를 통해 `GMP`를 사용하는 걸 고려해도 좋다.  

* 네이티브 메서드의 치명적 단점
>네이티브 언어가 안전하지 않으므로 네이티브 메서드를 사용하는 애플리 케이션도 메모리 훼손 오류로 부터 안전하지 않다.  

* 네이티브 언어는 타언어 보다 이식성이 낮다.
* 디버깅더 더 어렵다.
* 속도가 오히려 더 느려질 수 있다.
* 메모리를 자동 회수 하지 못 한다.
* 자바 코드와 네이티브 코드의 경계를 넘나들 때마다 비용도 추가된다.  
* 네이티브 메서드와 자바 코드 사이의 '접착 코드' 를 작성해야 하는데 귀찮고 가독성도 떨어 진다.  

> 네이티브 코드는 최소한만 사용하고 철저히 테스트 하라. 네이티브 코드 안에 숨은 버그가 여러분의 애플리케이션 전체를 훼손 할 수도 있다.


